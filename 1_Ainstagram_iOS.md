## 1달 1앱 - AInstagram (iOS)

### 1. SwiftUI를 본격적으로 써본 첫 프로젝트였다. 
  - SwiftUI가 확실히 진입 장벽이 낮다는 생각이 들었다. 
  - 마치 HTML 마크업처럼 코드가 쓰여진다. 
  - 특히나 뷰모델과 데이터를 양방향으로 바인딩하는 것이 너무 편리하다. 다만 네비게이션이라든가, 바텀싯을 띄운다든가, 애니메이션이라든지, 이런 부분들은 다소 비직관적인 부분들이 있다. 
  - 물론 그런 것들이 최신 프로젝트에서는 많이 해결된 거 같다. envrionment 변수라든지, bottomSheet의 경우 sheet(isPresented: $showingCredits) 뭐 이런식으로 하게되어있다. Reactor에 ViewAction 변수가 있고 그걸 조작하면 View의 조작들을 수행할 수있는 것과 비슷하다. 
  - VC라는 존재가 없으니까 오히려 되게 V-M이 명확해지는 장점. 이게 맞다는 생각이 든다. 
  - 다만 레이아웃은 아직 이해가 잘 안됐다. 
  - 다음에 내가 네이티브 앱을 직접 만든다면, 정말 SwiftUI를 쓸 것 같다. 물론 헤비하게 써본 적은 없지만. 일단 초반에는 정말 느낌이 좋고. 많이 발전했다. 요즘 회사에서도 SwiftUI가 많이 도입되고 있다.
### 2. Firebase를 제대로 써본 첫 프로젝트였다.
  - Firebase Auth를 사용했다. 로그인을 연결하고, 이메일/패스워드를 저장하면 User를 만들어주는 것. User의 session을 사용해서 로그인을 유지시켜줄 수 있다는 것도 알았다. 사용자가 한번 로그인을 하면, 사용자의 정보가 Firebase Auth 백엔드에 저장된다. 그리고 Firebase ID token이라는 JWT를 내준다. 그러면 이것을 받은 디바이스는 이제 저장된 토큰을 사용해서 로그인할 수 있게 된다.
  - Firebase Storage를 사용했다. 이미지를 저장할 떄 주로 사용되는 분산형 스토리지다. URL이 생성되고, 생성된 URL을 DB에 저장한다. 그리고 나서 DB에서 정보를 불러왔을 때, 해당 URL을가지고, 비동기 로딩에 사용하는 방식이다. 비동기 로딩은 KingFisher라는 라이브러리로 쉽게 해결했다. 
  - Firestore를 썼다. 도큐먼트 형태의 DB다. 예전에 한번 공부한 적이 있었는데. 분산형 DB이기 때문에 정규화는 하지 않는다. 대신 읽기 속도가 빠르다. Collection - Document의 구조로 이뤄져있다. 
  - Firebase App Check도 써봤다. 내 앱이 공격 당하지 않도록, 정해진 앱이나 디바이스에서만 백엔드를 호출할 수 있게 막아준다고 한다.
### 3. OpenAI의 Dall-E를 쓰기 위해서 Swift SDK를 사용했다.
  - 공식 SDK는 아니고, 커뮤니티에서 만든 거였다. MacPaw라는 회사인데 오픈소스로 공개해놓았다. 그래도 1.5k나 되는 star. Swift로 OpenAI 서버 호출을 쉽게 할 수 있도록 만들어놓은 라이브러리다.
### 4. 앱 스토어 심사제출을 해본 첫 프로젝트였다.
  - 앱스토어 제출은 생각보다 귀찮고 과정이 복잡했다.
  - 일단 애플 개발자 계정을 가입해서 12만원이나 내야했고. 그것마저도 가입이 쉽지 않았다. 알 수 없는 이유로 계속 튕겨서 결국은 세컨드 계정을 만들었다. 잘 안되어서 애플 서포트에 로그인했는데 인도인 CS 담당자가 전화를 했다. 그는 뭔가 자기쪽에서 문제가 있었다고 말하고는 내 회원가입을 통과시켜주었다.
  - 개인정보 처리 방침 작성도 꽤나 귀찮은 포인트였다. 개인정보 정말 함부로 수집하면 안되는구나, 라는 생각도 들었지만. 너무 지나치게 귀찮다는 생각도 들었다.
  - 결국 제출을 했지만 리젝. 리젝 사유는 꽤나 타당했다. UGC를 만들 수 있는 앱의 경우 content moderation과 삭제 기능이 있어야 한다고 한다. 즉, 신고 기능을 만들라는 말이다. 인터넷엔 별별 이상한 놈들이 있을 수 있으니 타당한 지적이라는 생각이 들긴 했다.
  - 그 외에는 디자인 카피캣 이슈도 있었고. 계정을 만들 수 있다면 삭제할 수있는 권한도 반드시 있어야 한다고 했다. 이런 것도 다 하나하나 보는구나.
  - 만약에 배포까지 해보고 싶은 거라면, 디자인을 베끼거나, 소셜 미디어 앱은 무조건 피해야겠다는 생각이 들었다. 
  - 다 고치기에는 시간이 너무 부족해서, 일단은 다음 프로젝트로 넘어간다.
